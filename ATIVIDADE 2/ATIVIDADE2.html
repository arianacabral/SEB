<pre>
<font color="#95a5a6">&#47;*******************************************************************************</font>
<font color="#95a5a6">*</font>
<font color="#95a5a6">* &nbsp;&nbsp;&nbsp;EXPERIMENTO 2 - PORTAS ANALÓGICAS NO ARDUINO</font>
<font color="#95a5a6">*</font>
<font color="#95a5a6">*******************************************************************************&#47;</font>

<font color="#434f54">&#47;&#47; ENTRADA ANALÓGICA</font>
<font color="#5e6d03"># define</font> <font color="#000000">POT</font> <font color="#000000">A0</font> <font color="#434f54">&#47;&#47; durante a compilação, o compilador substituirá qualquer menção de POT por A0.</font>

<font color="#434f54">&#47;&#47; ENTRADAS DIGITAIS</font>
<font color="#00979c">const</font> <font color="#00979c">int</font> <font color="#000000">CH</font> <font color="#434f54">=</font> <font color="#000000">8</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; chave</font>
<font color="#00979c">const</font> <font color="#00979c">int</font> <font color="#000000">RED</font> <font color="#434f54">=</font> <font color="#000000">11</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; led vermelho</font>
<font color="#00979c">const</font> <font color="#00979c">int</font> <font color="#000000">YELLOW</font> <font color="#434f54">=</font> <font color="#000000">12</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; led amarelo</font>
<font color="#00979c">const</font> <font color="#00979c">int</font> <font color="#000000">GREEN</font> <font color="#434f54">=</font> <font color="#000000">13</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; led verde</font>

<font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>

 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">CH</font><font color="#434f54">,</font><font color="#00979c">INPUT_PULLUP</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; definindo a chave como um pino de entrada com conexão com o resistor interno pull up do ARDUINO</font>

 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">RED</font><font color="#434f54">,</font><font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; definindo o led vermelho como um pino de saída</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">YELLOW</font><font color="#434f54">,</font><font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; definindo o led amarelo como um pino de saída</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">GREEN</font><font color="#434f54">,</font><font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; definindo o led verde como um pino de saída</font>

 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">RED</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; definindo o estado inicial do led vermelho em nível baixo (LOW)</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">YELLOW</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; definindo o estado inicial do led amarelo em nível baixo (LOW)</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">GREEN</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; definindo o estado inicial do led verde em nível baixo (LOW)</font>
 
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">19200</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; definindo a taxa de transmissão da comunicação serial (em bits&#47;s)</font>
<font color="#000000">}</font>

<font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>

 &nbsp;<font color="#00979c">int</font> <font color="#000000">analog_POT</font><font color="#434f54">,</font> <font color="#000000">analog_conv_POT</font><font color="#000000">;</font>

 &nbsp;<font color="#00979c">float</font> <font color="#000000">volt_POT</font><font color="#000000">;</font>
 &nbsp;
 &nbsp;<font color="#000000">analog_POT</font> <font color="#434f54">=</font> <font color="#d35400">analogRead</font><font color="#000000">(</font><font color="#000000">POT</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; lendo a entrada no pino analógico A0 do ARDUINO</font>
 
 &nbsp;<font color="#000000">volt_POT</font> <font color="#434f54">=</font> <font color="#000000">(</font><font color="#00979c">float</font><font color="#000000">)</font> <font color="#000000">analog_POT</font><font color="#434f54">*</font><font color="#000000">(</font><font color="#000000">5.0</font><font color="#434f54">&#47;</font><font color="#000000">1023</font><font color="#000000">)</font><font color="#000000">;</font><font color="#434f54">&#47;&#47; convertendo a leitura analógica (compreendida entre 0 e 1023) para um valor de tensão compreendida entre 0 e 5 V</font>

 &nbsp;<font color="#5e6d03">if</font><font color="#000000">(</font><font color="#434f54">!</font><font color="#d35400">digitalRead</font><font color="#000000">(</font><font color="#000000">CH</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">{</font> <font color="#434f54">&#47;&#47; enquanto a chave permanecer fechada, fazer:</font>
 &nbsp;&nbsp;
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font><font color="#000000">(</font><font color="#000000">volt_POT</font> <font color="#434f54">&lt;</font> <font color="#000000">2.0</font><font color="#000000">)</font><font color="#000000">{</font><font color="#434f54">&#47;&#47; ligar o led verde se a tensão for menor do que 2 V</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">RED</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">YELLOW</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">GREEN</font><font color="#434f54">,</font><font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">else</font> <font color="#5e6d03">if</font><font color="#000000">(</font><font color="#000000">(</font><font color="#000000">volt_POT</font> <font color="#434f54">&gt;=</font> <font color="#000000">2.0</font><font color="#000000">)</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">(</font><font color="#000000">volt_POT</font> <font color="#434f54">&lt;</font> <font color="#000000">4.0</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">{</font> <font color="#434f54">&#47;&#47; ligar o amarelo se a tensão maior ou igual a 2 V e menor do que 4 V</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">RED</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">GREEN</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">YELLOW</font><font color="#434f54">,</font><font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">else</font><font color="#000000">{</font> <font color="#434f54">&#47;&#47; ligar o led vermelho se a tensão for maior do que 4 V</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">GREEN</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">YELLOW</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">RED</font><font color="#434f54">,</font><font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">else</font><font color="#000000">{</font><font color="#434f54">&#47;&#47; enquanto a chave permanecer aberta, todos os leds permaneçam apagados (em nnível baixo)</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">RED</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font> 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">YELLOW</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">GREEN</font><font color="#434f54">,</font><font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;A tensao na entrada A0 = &#34;</font><font color="#000000">)</font><font color="#000000">;</font><b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#000000">volt_POT</font><font color="#000000">)</font><font color="#000000">;</font><b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#005c5f">&#34; volts&#34;</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; apresentando no serial terminal </font>

 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">300</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; esperando 300 ms antes da próxima leitura</font>
<font color="#000000">}</font>

</pre>